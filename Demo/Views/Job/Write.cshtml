@model JobWriteVM
@{
    ViewBag.Title = "Draft Job";
    Layout = "_EmployerLayout";
}

<div class="container">
    <h2>Create a New Job</h2>

    <div class="stepper">
        <div class="step completed">
            <a asp-controller="Job" asp-action="Classify" asp-route-id="@Model.DraftId" class="circle">1</a>
            <span>Classify</span>
        </div>
        <div class="line"></div>
        <div class="step completed">
            <a asp-controller="Job" asp-action="Subscription" asp-route-id="@Model.DraftId" class="circle">2</a>
            <span>Subscription</span>
        </div>
        <div class="line"></div>
        <div class="step active">
            <div class="circle">3</div>
            <span>Write</span>
        </div>
        @if (Model.JobId == null)
        {
            <div class="line"></div>
            <div class="step">
                <div class="circle">4</div>
                <span>Pay</span>
            </div>
        }
    </div>

    <div class="post-container">
        <form asp-action="Write" asp-controller="Job" method="post">
            <input type="hidden" asp-for="DraftId" />
         
            
            <div class="form-group">
                <label asp-for="Description">Job description</label>
                <textarea asp-for="Description" class="form-control" style="height: 300px"></textarea>
            </div>       
            
            <div class="form-group">
                <label asp-for="Summary">Job summary</label>
                <textarea asp-for="Summary" class="form-control" style="height: 100px"></textarea>
            </div>

            <div class="form-group">
                <label asp-for="Logo">Upload Company Logo</label>
                <input asp-for="Logo" type="file" class="form-control" accept="image/*" />
                <span asp-validation-for="Logo" class="text-danger"></span>

                @if (!string.IsNullOrEmpty(Model.LogoImageUrl))
                {
                    <div class="logo-preview">
                        <img src="@Model.LogoImageUrl" alt="Company Logo" />
                    </div>
                }
            </div>


            <div class="form-actions">
                <button type="submit" name="action" value="back"
                        class="btn btn-primary">
                    <i class="fas fa-arrow-left" style="margin-right:10px"></i>Back
                </button>

                <button type="submit" name="action" value="save"
                        class="btn btn-secondary" formnovalidate>
                    Save Draft
                </button>

                @if(Model.JobId != null)
                {
                    <button type="submit" name="action" value="done"
                            class="btn btn-primary">
                        Confirm & Post <i class="fas fa-arrow-right" style="margin-left:10px"></i>
                    </button>
                }
                else
                {
                    <button type="submit" name="action" value="continue"
                            class="btn btn-primary">
                        Complete <i class="fas fa-arrow-right" style="margin-left:10px"></i>
                    </button>
                }
            </div>
        </form>
    </div>

</div>

@section Styles {
    <style>
        textarea {
            resize: vertical; /* 只能竖直方向调整高度 */
        }
    </style>
    <link rel="stylesheet" href="~/css/post.css" />
}

@section Scripts {
}