@model Demo.Models.ApplicationDetailVM
@{
    ViewData["Title"] = "Application Detail";
}

<div class="apply-container">
    <h2>Application Detail</h2>

    <!-- Job Info -->
    <div class="company-info">
        <img src="@Url.Content(Model.JobLogo ?? "~/images/default-logo.png")"
             alt="Job Logo" class="company-logo" />
        <div>
            <h5>@Model.CompanyName</h5>
            <p class="applied-date">Applied on: @Model.CreatedAt.ToString("yyyy-MM-dd")</p>
        </div>
    </div>

    <!-- Single line for Job Title / Status / Hired Date -->
    <div class="field-row">
        <div class="field">
            <span class="label">Job Title:</span>
            <span class="value">@Model.JobTitle</span>
        </div>

        <div class="field">
        <span class="label">Application Status:</span>
            <span class="value status-@Model.Status.ToString().ToLower()">
                @Model.Status
            </span>
    </div>

        <div class="field">
            <span class="label">Hired Date:</span>
            <span class="value">@((Model.HiredDate != null) ? Model.HiredDate?.ToString("yyyy-MM-dd") : "-")</span>
        </div>
    </div>

    <!-- Other fields -->
    <div class="field">
        <span class="label">Which source informed you about this job opportunity?</span>
        <span class="value">@Model.Source</span>
    </div>

    <div class="field">
        <span class="label">What's your expected monthly basic salary?</span>
        <span class="value">@Model.SalaryExpected</span>
    </div>

    <div class="field">
        <span class="label">How much notice are you required to give your current employer?</span>
        <span class="value">@Model.NoticeTime</span>
    </div>

    <!-- Actions -->
    <div class="action-buttons">
        <form asp-action="DeleteApplication" asp-controller="JobApply" method="post">
            <input type="hidden" name="id" value="@Model.ApplicationId" />
            <button type="submit" class="btn-animated btn-danger-animated"
                    onclick="return confirm('Are you sure you want to cancel this application?');">
                Cancel Job Application
            </button>
        </form>

        <a asp-action="ApplyList" asp-controller="JobApply" class="btn-animated btn-secondary-animated">
            Back to My Applications
        </a>
    </div>

@section Styles {
    <link rel="stylesheet" href="~/css/JobApplyDetail.css" />
}

