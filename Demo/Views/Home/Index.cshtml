@model Demo.Models.HomeVM
@{
    ViewBag.Title = "Job Seeker";
    ViewBag.Active = "Home";
}

<section class="hero-section">
    <div class="hero-content">
        <h1>Find your new job</h1>

        <form id="job-search-form" class="search-form" asp-action="Index">
            <div class="search-field">
                <label for="keyword">What</label>
                <input type="text" id="keyword" name="keyword" placeholder="e.g. Web Developer" />
            </div>

            <div class="search-field">
                <label style="visibility: hidden">Select</label>
                <select asp-for="@Model.CategoryId" asp-items="Model.CategoryOptions" class="form-control">
                    <option value="">Any Classification</option>
                </select>
            </div>

            <div class="search-field">
                <label for="location">Where</label>
                <input type="text" id="location" name="location" placeholder="e.g. Malaysia" />
            </div>

            <div class="search-field search-button-field">
                <label style="visibility: hidden">Search</label>
                <button type="submit" class="search-btn">Search</button>
            </div>
        </form>

        <div id="job-results">
            @* @Html.Partial("_JobListPartial", Model) *@
        </div>
    </div>
</section>

@* <div class="job-container">
    <section class="job-left">
        @foreach (var job in Model)
        {
            <div class="job-card" data-id="@job.Id">
                <h4>@job.Title</h4>
                <p>@job.Location</p>
                <p>@job.Summary</p>
            </div>
        }
    </section>

    <section class="job-right" id="job-details">
        <!-- 默认空白区域 -->
        <p>点击左侧岗位以查看详细信息。</p>
    </section>
</div> *@

<div class="job-container">
    <section class="job-left">
        @foreach (var job in Model.Jobs)
        {
            <div class="job-card" data-id="@job.Id">
                <div class="top">
                    <div class="title-company">
                        <h4 class="title">@job.Title</h4>
                        <p class="company">@job.User.CompanyName</p>
                    </div>
                    <img src="@job.LogoImageUrl" alt="company image" class="job-card-logo" />
                </div>

                <div class="job-card-body">
                    <p class="location">
                        <i class="fa fa-map-marker"></i> @job.User.Location
                    </p>
                    <p class="salary">
                        <i class="fa fa-money"></i> RM @job.SalaryMin - RM @job.SalaryMax per month
                    </p>
                    <p class="summary">@job.Summary</p>
                    <span class="time">
                        <i class="fa fa-clock"></i> @((DateTime.Now - job.CreatedAt).Days) days ago
                    </span>
                </div>
            </div>
        }
        @if (Model.Jobs.Count == 0)
        {
            <p class="not-found">No jobs found.</p>
        }
    </section>

    <section class="job-right" id="job-details">
        <p>Click job in left side to view detail.</p>
    </section>
</div>

@section Scripts {
    <script src="~/js/job.js"></script>
    
}

@section Styles {
    <link rel="stylesheet" href="/css/job.css" />
    <link rel="stylesheet" href="/css/home.css" />
}